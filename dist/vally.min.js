!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.vally={})}(this,function(n){"use strict";var e=function(n){var e=n.node;return n.validators.reduce(function(n,t){if(!n.isValid)return n;var i=e.value;return{isValid:t.fn(i),node:e,validator:t}},{isValid:!0,node:e,validator:null})},t=function(n,e){return!!r(n)&&e.test(n)},i=function(n){return void 0===n||0===n.length},r=function(n){return"string"==typeof n},o=function(n){var t=n.fields.map(function(n){n.node||(console.warn("vally, validate: passed node is undefined! Please check your field definitions."),console.trace());var t=null===n.node.offsetParent||"none"===n.node.style.display,r=n.node.required||!1,o=n.node.value,a=!r&&i(o);return t||a?{isValid:!0,node:n.node,validator:null}:e(n)});return{isValid:t.reduce(function(n,e){return n?e.isValid:n},!0),validations:t}};n.isEmail=function(n){return t(n,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/)},n.isEmpty=i,n.isNoneEmptyString=function(n){return r(n)&&n.length>0},n.isNumberString=function(n){return t(n,/^\d+$/)},n.isString=r,n.validateNode=e,n.validate=o,n.initWithBindings=function(n,e,t){var i=n.fields,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return i.map(function(n){var i,a,d,u=(i=function(e){var i=o({fields:[n]});t(e,i)},a=r,d=void 0,function(){for(var n=this,e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];clearTimeout(d),d=setTimeout(function(){return i.apply(n,t)},a)});return n.node.addEventListener(e,u),function(){return n.node.removeEventListener(e,u)}})},Object.defineProperty(n,"__esModule",{value:!0})});
