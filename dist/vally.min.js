!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.vally={})}(this,function(e){"use strict";var n=function(e){var n=e.node;return e.validators.reduce(function(e,t){if(!e.isValid)return e;var r=n.value;return{isValid:t.fn(r),node:n,validator:t}},{isValid:!0,node:n,validator:null})},t=function(e,n){return!!i(e)&&n.test(e)},r=function(e){return void 0===e||0===e.length},i=function(e){return"string"==typeof e},o=function(e){var t=e.fields.map(function(e){e.node||(console.warn("vally, validate: passed node is undefined! Please check your field definitions."),console.trace());var t=null===e.node.offsetParent||"none"===e.node.style.display,i=e.node.required||!1,o=e.node.value,a=!i&&r(o);return t||a?{isValid:!0,node:e.node,validator:null}:n(e)});return{isValid:t.reduce(function(e,n){return e?n.isValid:e},!0),validations:t}};e.isEmail=function(e){return t(e,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/)},e.isEmpty=r,e.isNoneEmptyString=function(e){return i(e)&&e.length>0},e.isNumberString=function(e){return t(e,/^\d+$/)},e.isString=i,e.validateNode=n,e.validate=o,e.initWithBindings=function(e,n,t){var r=e.fields,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return r.map(function(e){var r,a,u,d=(r=function(n){var r=o({fields:[e]});t(n,r)},a=i,u=void 0,function(){for(var e=this,n=arguments.length,t=Array(n),i=0;i<n;i++)t[i]=arguments[i];clearTimeout(u),u=setTimeout(function(){return r.apply(e,t)},a)});return e.node.addEventListener(n,d),function(){return e.node.removeEventListener(n,d)}})},e.createConfig=function(e){return{fields:e.reduce(function(e,n){var t=document.querySelector(n.selector);return t&&(t instanceof HTMLInputElement||t instanceof HTMLSelectElement)?[].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(e),[{node:t,validators:n.validators}]):(console.warn('vally, createConfig: node with selector "'+n.selector+'" could not be found!'),e)},[])}},Object.defineProperty(e,"__esModule",{value:!0})});
