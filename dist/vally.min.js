!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.vally={})}(this,function(e){"use strict";var n=function(e,n){return n.reduce(function(n,r){return n?r(e):n},!0)},r=function(e,n){return!!o(e)&&n.test(e)},t=function(e){return void 0===e||0===e.length},o=function(e){return"string"==typeof e},i=function(e){var r=e.containerSelector,o=void 0===r?"body":r,i=e.fields,u=(e.DOMStub||window.document).querySelector(o);return u?i.reduce(function(e,r){var o=u.querySelector(r.selector);if(!o)return console.warn('vally: The specified field "'+r.selector+'" does not exist!'),!1;var i,l,a,c=null===o.offsetParent,d=o.value,s=t(d),f=!(o.required||!1)&&s,v=(i=u,l=r.errorSelector,a=o,(l?i.querySelector(l):null)||a),y=c||f||n(d,r.validators);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",n=arguments[1],r=arguments[2];n?r.classList.remove(e):r.classList.add(e)}(r.errorClass,y,v),y&&e},!0):(console.warn('vally: The specified container "'+o+'" does not exist!'),!1)},u=function(e,n){return function(){var r=i(e);return r||(n&&n(e),r)}};e.isEmail=function(e){return r(e,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/)},e.isEmpty=t,e.isNoneEmptyString=function(e){return o(e)&&e.length>0},e.isNumberString=function(e){return r(e,/^\d+$/)},e.isString=o,e.validateValue=n,e.makeValidate=u,e.validate=i,e.makeValidationWithBlurBindings=function(e,n){var r=e.containerSelector,t=void 0===r?"body":r,o=e.fields,i=e.DOMStub;return function(){var e="vally, makeValidationWithBlurBindings():",r=(i||window.document).querySelector(t);return r?o.map(function(o){var i=r.querySelector(o.selector);if(!i)return console.warn(e+" The field "+o.selector+" could not be found!"),function(){};var l=u({containerSelector:t,fields:[o]},n);return i.addEventListener("blur",l),function(){return i.removeEventListener("blur",l)}}):(console.warn(e+' Container "'+t+'" could not be found!'),[])}},Object.defineProperty(e,"__esModule",{value:!0})});
