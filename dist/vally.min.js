!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.vally={})}(this,function(e){"use strict";var n=function(e,n){return!!r(e)&&n.test(e)},t=function(e){return void 0===e||0===e.length},r=function(e){return"string"==typeof e},i=function(e){return r(e)&&e.length>0},o=function(e){return n(e,/^\d+$/)},u=function(e){return n(e,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/)},a=function(e,n){return n.reduce(function(n,t){return n?t(e):n},!0)},l=function(e){var n=e.containerSelector,r=void 0===n?"body":n,i=e.fields,o=(e.DOMStub||window.document).querySelector(r);return o?i.reduce(function(e,n){var r=o.querySelector(n.selector);if(!r)return console.warn('vally: The specified field "'+n.selector+'" does not exist!'),!1;var i,u,l,c=null===r.offsetParent,d=r.value,s=t(d),f=!(r.required||!1)&&s,v=(i=o,u=n.errorSelector,l=r,(u?i.querySelector(u):null)||l),y=c||f||a(d,n.validators);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",n=arguments[1],t=arguments[2];n?t.classList.remove(e):t.classList.add(e)}(n.errorClass,y,v),y&&e},!0):(console.warn('vally: The specified container "'+r+'" does not exist!'),!1)},c=function(e){return function(){return l(e)}},d=function(e){var n=e.containerSelector,t=void 0===n?"body":n,r=e.fields;return function(){var e="vally, makeValidationWithBlurBindings():",n=document.querySelector(t);return n?r.map(function(r){var i=n.querySelector(r.selector);if(!i)return console.warn(e+" The field "+r.selector+" could not be found!"),function(){};var o=c({containerSelector:t,fields:[r]});return i.addEventListener("blur",o),function(){return i.removeEventListener("blur",o)}}):(console.warn(e+' Container "'+t+'" could not be found!'),[])}},s={isEmail:u,isEmpty:t,isNoneEmptyString:i,isNumberString:o,isString:r,makeValidate:c,makeValidationWithBlurBindings:d,validate:l,validateValue:a};e.vally=s,e.isEmail=u,e.isEmpty=t,e.isNoneEmptyString=i,e.isNumberString=o,e.isString=r,e.makeValidate=c,e.makeValidationWithBlurBindings=d,e.validate=l,e.validateValue=a,Object.defineProperty(e,"__esModule",{value:!0})});
