!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.vally={})}(this,function(e){"use strict";var n=function(e,n){return!!r(e)&&n.test(e)},t=function(e){return void 0===e||0===e.length},r=function(e){return"string"==typeof e},i=function(e){return r(e)&&e.length>0},o=function(e){return n(e,/^\d+$/)},a=function(e){return n(e,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/)},l=function(e,n){return n.reduce(function(n,t){return n?t(e):n},!0)},u=function(e){var n=e.containerSelector,r=void 0===n?"body":n,i=e.fields,o=(e.DOMStub||window.document).querySelector(r);return o?i.reduce(function(e,n){if(!e)return e;var r=o.querySelector(n.selector);if(!r)return console.warn('vally: The specified field "'+n.selector+'" does not exist!'),!1;if("none"===r.style.display||!0===r.hidden||r instanceof HTMLInputElement&&"hidden"===r.type)return!0;var i,a,u,d=r.value,c=t(d),s=!(n.isRequired||!1)&&c,f=(i=o,a=n.errorSelector,u=r,(a?i.querySelector(a):null)||u),v=s||l(d,n.validators);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",n=arguments[1],t=arguments[2];n?t.classList.remove(e):t.classList.add(e)}(n.errorClass,v,f),v},!0):(console.warn('vally: The specified container "'+r+'" does not exist!'),!1)},d=function(e){return function(){return u(e)}},c=function(e){var n=e.containerSelector,t=void 0===n?"body":n,r=e.fields;return function(){var e="vally, makeValidationWithBlurBindings():",n=document.querySelector(t);n?r.forEach(function(r){var i=n.querySelector(r.selector);if(i){var o=d({containerSelector:t,fields:[r]});i.addEventListener("blur",o)}else console.warn(e+" The field "+r.selector+" could not be found!")}):console.warn(e+' Container "'+t+'" could not be found!')}},s={isEmail:a,isEmpty:t,isNoneEmptyString:i,isNumberString:o,isString:r,makeValidate:d,makeValidationWithBlurBindings:c,validate:u,validateValue:l};e.vally=s,e.isEmail=a,e.isEmpty=t,e.isNoneEmptyString=i,e.isNumberString=o,e.isString=r,e.makeValidate=d,e.makeValidationWithBlurBindings=c,e.validate=u,e.validateValue=l,Object.defineProperty(e,"__esModule",{value:!0})});
